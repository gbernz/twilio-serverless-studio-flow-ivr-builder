<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>FY22 H1 Build Challenge - Team 5280squad</title>

        <link rel="icon" href="https://twilio-labs.github.io/function-templates/static/v1/favicon.ico">
        <link rel="stylesheet" href="https://twilio-labs.github.io/function-templates/static/v1/ce-paste-theme.css">
        <script src="https://twilio-labs.github.io/function-templates/static/v1/ce-helpers.js" defer></script>
        <script>
         window.addEventListener('DOMContentLoaded', (_event) => {
             inputPrependBaseURL();
         });
        </script>

        <!-- INTERNATIONAL TELEPHONE INPUT -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.15/css/intlTelInput.css" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.15/js/intlTelInput.min.js"></script>
        <!-- INTERNATIONAL TELEPHONE INPUT -->

        <!-- JSON EDITOR -->
        <link href="/jsoneditor/jsoneditor.min.css" rel="stylesheet" type="text/css">
        <script src="/jsoneditor/jsoneditor.min.js"></script>
        <script src="/jsoneditor/flowtemplate.js"></script>
        <!-- JSON EDITOR -->

        <!-- FONT AWESOME -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- FONT AWESOME -->

        <!-- ADDITIONAL STYLING -->
        <link href="/index.css" rel="stylesheet" type="text/css">
        <!-- ADDITIONAL STYLING -->
    </head>
    <body>
        <div class="page-top">
            <header>
                <div id="twilio-logo">
                    <a href="https://www.twilio.com/" target="_blank" rel="noopener">
                        <svg class="logo" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 60 60">
                            <title>Twilio Logo</title><path class="cls-1" d="M30,15A15,15,0,1,0,45,30,15,15,0,0,0,30,15Zm0,26A11,11,0,1,1,41,30,11,11,0,0,1,30,41Zm6.8-14.7a3.1,3.1,0,1,1-3.1-3.1A3.12,3.12,0,0,1,36.8,26.3Zm0,7.4a3.1,3.1,0,1,1-3.1-3.1A3.12,3.12,0,0,1,36.8,33.7Zm-7.4,0a3.1,3.1,0,1,1-3.1-3.1A3.12,3.12,0,0,1,29.4,33.7Zm0-7.4a3.1,3.1,0,1,1-3.1-3.1A3.12,3.12,0,0,1,29.4,26.3Z"/></svg>
                    </a>
                </div>
                <nav>
                    <span>An interactive IVR builder</span>
                    <aside>
                        <svg class="icon" role="img" aria-hidden="true" width="100%" height="100%" viewBox="0 0 20 20" aria-labelledby="NewIcon-1577"><path fill="currentColor" fill-rule="evenodd" d="M6.991 7.507c.003-.679 1.021-.675 1.019.004-.012 2.956 1.388 4.41 4.492 4.48.673.016.66 1.021-.013 1.019-2.898-.011-4.327 1.446-4.48 4.506-.033.658-1.01.639-1.018-.02-.03-3.027-1.382-4.49-4.481-4.486-.675 0-.682-1.009-.008-1.019 3.02-.042 4.478-1.452 4.49-4.484zm.505 2.757l-.115.242c-.459.9-1.166 1.558-2.115 1.976l.176.08c.973.465 1.664 1.211 2.083 2.22l.02.05.088-.192c.464-.973 1.173-1.685 2.123-2.124l.039-.018-.118-.05c-.963-.435-1.667-1.117-2.113-2.034l-.068-.15zm10.357-8.12c.174.17.194.434.058.625l-.058.068-1.954 1.905 1.954 1.908a.482.482 0 010 .694.512.512 0 01-.641.056l-.07-.056-1.954-1.908-1.954 1.908a.511.511 0 01-.71 0 .482.482 0 01-.058-.626l.058-.068 1.954-1.908-1.954-1.905a.482.482 0 010-.693.512.512 0 01.64-.057l.07.057 1.954 1.905 1.954-1.905a.511.511 0 01.71 0z"></path></svg>
                        Live
                    </aside>
                </nav>
            </header>
        </div>
        <main>
            <div class="content">
                <h1>
                    <img src="https://twilio-labs.github.io/function-templates/static/v1/success.svg" />
                    <div>
                        <p>Welcome!</p>
                        <p>Your live application with Twilio is ready to use!</p>
                    </div>
                </h1>
                <section>
                    <h2>Get started with your application</h2>
                    <p>Follow these steps to try out your new app:</p>
                    <p>This app allows you to customize your communication workflow by manipulating the underlying JSON to be uploaded in your own Twilio Console. Two options to customize: you can adjust your flow using the form on the left, or you can manually adjust the JSON for your flow on the right.</p>
                    <ol class="steps">
                        <li>Do EITHER: fill out the form on the left to adjust the JSON, or manually adjust the JSON on the right.</li>
                        <li>Copy the JSON code and upload to your Studio flow in the Twilio Console.</li>
                    </ol>
                </section>

                <section class="container-lg">
                    <!-- JSON EDITOR FORM -->
                    <h2>Adjusting your workflow</h2>
                    <br>
                    <div class="one">
                        <form>
                            <!-- GREETING INPUT -->
                            <label for="input-voice">Select Polly Voice! <i class="fa fa-question-circle-o" title="This will adjust your welcome message."></i></label>
                            <select id="input-voice">
                                <option value="Polly.Amy" selected>[Polly] Amy</option>
                                <option value="Polly.Emma">[Polly] Emma</option>
                                <option value="Polly.Brian">[Polly] Brian</option>
                                <option value="Polly.Amy-Neural">[Polly] Amy-Neural</option>
                                <option value="Polly.Emma-Neural">[Polly] Emma-Neural</option>
                                <option value="Polly.Brian-Neural">[Polly] Brian-Neural</option>
                            </select>
                            <label for="input-voice-greeting">Configure your voice greeting <i class="fa fa-question-circle-o" title="This will adjust your welcome message."></i></label>
                            <input type="text" id="input-voice-greeting"value="Hello! You've reached RoboRosi. I am happy to help connect you to the correct co-working space department today. Please let me know who you need to speak with.">
                            <label for="input-sms-greeting">Configure your sms greeting <i class="fa fa-question-circle-o" title="This will adjust your welcome message."></i></label>
                            <input type="text" id="input-sms-greeting" value="Hello! My name is RoboRosi! Please give me a call so I can help you navigate to the right department: {{flow.channel.address}}">
                            <!-- GREETING INPUT -->

                            <!-- BRANCH INPUT -->
                            <div>
                                <label for="branches">Configure number of branches: <i class="fa fa-question-circle-o" title="This will adjust..."></i></label>
                                <select id="branches">
                                    <option value=0 selected>0</option>
                                    <option value=1>1</option>
                                    <option value=2>2</option>
                                    <option value=3>3</option>
                                    <option value=4>4</option>
                                    <option value=5>5</option>
                                    <option value=6>6</option>
                                    <option value=7>7</option>
                                    <option value=8>8</option>
                                    <option value=9>9</option>
                                    <option value=10>10</option>
                                </select>

                                <div class="btn-container-wrapper">
                                    <div class="btn-container">
                                        <a class="btn" target="_blank" onclick="build_branches()">Confirm</a>
                                    </div>
                                </div>
                            </div>
                            <!-- BRANCH INPUT -->

                            <!-- BRANCH CHECK INPUT -->
                            <table>
                                <tbody>
                                    <tr>
                                        <th>#</th>
                                        <th>Branch Name:</th>
                                        <th>Branch Phone:</th>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>0</td>
                                        <td><input type="text" id="branch0" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch0num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>1</td>
                                        <td><input type="text" id="branch1" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch1num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>2</td>
                                        <td><input type="text" id="branch2" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch2num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>3</td>
                                        <td><input type="text" id="branch3" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch3num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>4</td>
                                        <td><input type="text" id="branch4" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch4num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>5</td>
                                        <td><input type="text" id="branch5" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch5num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>6</td>
                                        <td><input type="text" id="branch6" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch6num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>7</td>
                                        <td><input type="text" id="branch7" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch7num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>8</td>
                                        <td><input type="text" id="branch8" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch8num"></td>
                                    </tr>
                                    <tr class="branch-rows">
                                        <td>9</td>
                                        <td><input type="text" id="branch9" value="Insert branch name..."></td>
                                        <td><input type="text" id="branch9num"></td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- BRANCH CHECK INPUT -->

                            <!-- PUSH TO JSON -->
                            <div class="btn-container-wrapper">
                                <div class="btn-container">
                                    <a class="btn" target="_blank" onclick="save_to_flow_and_copy()">Push to JSON & copy to clipboard</a>
                                </div>
                            </div>
                            <!-- PUSH TO JSON -->

                            <!-- CLIPBOARD STATUS -->
                            <p id="clipboardStatusMessage"></p>
                            <!-- CLIPBOARD STATUS -->
                        </form>
                    </div>
                    <!-- JSON EDITOR FORM -->
                    <!-- JSON EDITOR -->
                    <div class="two">
                        <div id="jsoneditor"></div>
                        <script>
                            const container = document.getElementById("jsoneditor");
                            const options = {
                                mode: 'code'
                            }
                            const editor = new JSONEditor(container, options)
                            editor.set(initialJSON)
                            // get json from editor
                            //const updatedJson = editor.get()
                        </script>
                    </div>
                    <!-- JSON EDITOR -->
                </section>
                <section class="container-md">
                    <h2>(Optional) Push to JSON & create flow via <a target="_blank" href="https://www.twilio.com/docs/studio/rest-api/v2/flow">Twilio Studio v2 REST API</a></h2>
                    <div class="one">
                        <form>
                            <!-- PASSCODE -->
                            <br>
                            <label for="input-passcode">Insert Passcode <i class="fa fa-question-circle-o" title="This will adjust your welcome message."></i></label>
                            <input type="password" id="input-passcode" value="xxxxxx">
                            <br>
                            <!-- PASSCODE -->
    
                            <!-- PUSH TO JSON -->
                            <div class="btn-container-wrapper">
                                <div class="btn-container">
                                    <a class="btn" target="_blank" onclick="save_to_flow_and_create_flow()">Push to JSON & create flow via Twilio Studio REST API v2</a>
                                </div>
                            </div>
                            <!-- PUSH TO JSON -->
    
                            <!-- CLIPBOARD STATUS -->
                            <p id="createFlowStatusMessage"></p>
                            <!-- CLIPBOARD STATUS -->
                        </form>
                    </div>
                </section>
            </div>
        </main>
        <footer>
            <span class="statement">We can't wait to see what you build.</span>
        </footer>
        <script src="/index.js"></script>
    </body>
</html>